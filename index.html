<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Real-time Logs</title>
  <!-- Include Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
  <div class="container mx-auto p-4">
    <h1 class="text-2xl font-bold mb-4">Real-time Logs</h1>
    <div
      id="logs"
      class="bg-white p-4 rounded shadow overflow-y-auto h-96 font-mono text-sm"
    >
      <!-- Log messages will appear here -->
    </div>
  </div>

  <script>
    const logsDiv = document.getElementById('logs');
    const ws = new WebSocket('ws://' + window.location.host + '/logs');

    ws.onopen = function () {
      console.log('Connected to log server');
    };

    ws.onmessage = function (event) {
      const message = event.data;
      const logEntry = document.createElement('div');
      logEntry.textContent = message;
      logsDiv.appendChild(logEntry);
      // Scroll to the bottom
      logsDiv.scrollTop = logsDiv.scrollHeight;
    };

    ws.onclose = function () {
      console.log('Disconnected from log server');
    };
  </script>
</body>
</html>
